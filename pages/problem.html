<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            let exports = {};
        </script>
        <script src="all.js"></script>
    </head>
    <body>
        <span id="goban1"></span>

        <a href="javascript:void(goban1.previous())">Back</a>
        &middot;
        <a href="javascript:void(goban1.reset())">Reset</a>
        <strong><p id="goban1_comment"></p></strong>

        <script>
            function startProblem(node) {
                goban1 = new GobanViewer("goban1", node, {cropTop: 10, /* cropBottom: 2, */ cropLeft: 10, /* cropRight: 10, */ coordinates: true, mode: "PROBLEM"})
            }
            document.addEventListener('keydown', async (event) => {
                if (event.metaKey && (event.code == "KeyV")) {
                    const sgf = await navigator.clipboard.readText();
                    const node = parseSGF(sgf);
                    startProblem(node);
                    return;
                }
            });
            const params = new URLSearchParams(window.location.search);
            let sgf = params.get("sgf");
            if (!sgf) {
                alert("Missing sgf parameter");
                sgf = "(;)";
            }
            const node = parseSGF(sgf);
        </script>
        <script>startProblem(node)</script>
    </body>
</html>
